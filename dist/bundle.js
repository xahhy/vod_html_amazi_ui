!function(g){var I={};function C(n){if(I[n])return I[n].exports;var c=I[n]={i:n,l:!1,exports:{}};return g[n].call(c.exports,c,c.exports,C),c.l=!0,c.exports}C.m=g,C.c=I,C.d=function(g,I,n){C.o(g,I)||Object.defineProperty(g,I,{configurable:!1,enumerable:!0,get:n})},C.r=function(g){Object.defineProperty(g,"__esModule",{value:!0})},C.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(I,"a",I),I},C.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},C.p="",C(C.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("/**\r\n * Created by hhy on 2017/10/14.\r\n */\r\n\r\n/* 全局变量 开始*/\r\nvar URL_PREFIX = '';\r\nvar HOME_LIST_URL = URL_PREFIX + '/vod/api/home';\r\nvar HOME_OVERVIEW_URL = URL_PREFIX + '/vod/api/home/overview';\r\nvar CATEGORY_URL = URL_PREFIX + '/vod/api/category';\r\nvar YEAR_URL = URL_PREFIX + '/vod/api/year';\r\nvar REGION_URL = URL_PREFIX + '/vod/api/region';\r\nvar VIDEO_LIST_URL = URL_PREFIX + '/vod/api';\r\nvar VIDEO_DETAIL_URL = URL_PREFIX + '/vod/api/';\r\nvar ADMIN_SITE = URL_PREFIX + '/admin';\r\n\r\n\r\nvar DEFAULT_SELECT_DATA = {\r\n    category: '全部',\r\n    year: '全部',\r\n    region: '全部'\r\n};\r\nvar CategoryListData;\r\nvar IScroll = $.AMUI.iScroll;\r\nvar myPlayer;\r\nvar curData = DEFAULT_SELECT_DATA;\r\n/* IE兼容性函数 */\r\nif (typeof String.prototype.endsWith != 'function') {\r\n    String.prototype.endsWith = function (suffix) {\r\n        return this.indexOf(suffix, this.length - suffix.length) !== -1;\r\n    }\r\n}\r\n\r\n/* Vue对象 */\r\n/* 视频缩略图组件 */\r\nvar VideoItem = {\r\n    template: '#id_video_item',\r\n    props: ['video'],\r\n    computed: {\r\n        full_image_url: function () {\r\n            return this.video.image;\r\n        }\r\n    },\r\n    methods: {\r\n        selectVideo: function (id) {\r\n            router.push({path: '/vod/' + id});\r\n            console.log('select video ' + id)\r\n        }\r\n    }\r\n};\r\n/* 主页分类视频概览 */\r\nvar HomeCategoryVideo = {\r\n    name:'HomeCategory',\r\n    template: '#id_home_category',\r\n    props: ['category'],\r\n    components: {\r\n        'video-item': VideoItem\r\n    },\r\n    data: function () {\r\n        return {\r\n            videos:[]\r\n        };\r\n    },\r\n    mounted:function () {\r\n        var vue = this;\r\n        var context = {\r\n            category: this.category.name\r\n        };\r\n        $.get(HOME_OVERVIEW_URL, context, function (data, status) {\r\n            if(!data['error']){\r\n                vue.videos = data\r\n            }else{\r\n                alert(data['error'])\r\n            }\r\n        })\r\n    },\r\n    methods:{\r\n\r\n    }\r\n};\r\nVue.component('v-select', VueSelect.VueSelect);\r\nvar HomeView = {\r\n    name: 'Home',\r\n    template: '#id_home',\r\n    props:['main_categories'],\r\n    components:{\r\n        'category-item': HomeCategoryVideo\r\n    },\r\n    data:function () {\r\n        return {\r\n            count:0,\r\n            videos:[]\r\n        }\r\n    },\r\n    computed:{\r\n\r\n    },\r\n    mounted:function(){\r\n        var vue = this;\r\n        $('.ml6 .letters').each(function () {\r\n            $(this).html($(this).text().replace(/([^\\x00-\\x80]|\\w)/g, \"<span class='letter'>$&</span>\"));\r\n        });\r\n        anime.timeline({loop: true})\r\n            .add({\r\n                targets: '.ml6 .letter',\r\n                translateY: [\"1.1em\", 0],\r\n                translateZ: 0,\r\n                duration: 750,\r\n                delay: function (el, i) {\r\n                    return 50 * i;\r\n                }\r\n            }).add({\r\n            targets: '.ml6',\r\n            opacity: 0,\r\n            duration: 1000,\r\n            easing: \"easeOutExpo\",\r\n            delay: 1000\r\n        });\r\n        $.get(HOME_LIST_URL,function (data, status) {\r\n            vue.count = data['count'];\r\n            vue.videos = data['videos'];\r\n            setTimeout(function(){\r\n                $('#id_home_slider').flexslider();\r\n            }, 100);\r\n        })\r\n    },\r\n    methods:{\r\n        select_video: function (id) {\r\n            router.push({ name: 'video_detail', params: { id: id }})\r\n        }\r\n    }\r\n};\r\nvar CategoryList = {\r\n    template: '#id_category_list',\r\n    props: ['category_list'],\r\n    data: function () {\r\n        return {\r\n            active_name: '全部'\r\n        }\r\n    },\r\n    methods: {\r\n        select: function (name) {\r\n            this.active_name = name;\r\n            App.active_list = name;\r\n            load_search_result();\r\n        }\r\n    },\r\n    beforeRouteEnter: function (to, from, next) {\r\n        console.log('category before route enter');\r\n        next(function () {\r\n            load_category_list(to.params.main_category);\r\n        });\r\n    }\r\n};\r\nvar CategoryAdvanced = {\r\n    template: '#id_category_advanced',\r\n    props: ['category_year', 'category_region'],\r\n    data: function () {\r\n        return {\r\n            active_year: '全部',\r\n            active_region: '全部'\r\n        }\r\n    },\r\n    methods: {\r\n        select_year: function (name) {\r\n            this.active_year = name;\r\n            App.active_year = name;\r\n            load_search_result();\r\n        },\r\n        select_region: function (name) {\r\n            this.active_region = name;\r\n            App.active_region = name;\r\n            load_search_result();\r\n        }\r\n    },\r\n    mounted: function () {\r\n    },\r\n    beforeRouteEnter: function (to, from, next) {\r\n        console.log('category advanced before route enter');\r\n        next(function () {\r\n            load_category_year(to.params.main_category);\r\n            load_category_region(to.params.main_category);\r\n        });\r\n    }\r\n};\r\n\r\nvar VideoListData = {\r\n    videos: [],\r\n    cur_page: 1,\r\n    num_pages: 0,\r\n    count: 0,\r\n    search_word: ''\r\n};\r\nvar VideoList = {\r\n    template: '#id_video_list',\r\n    props: [],\r\n    components: {\r\n        'video-item': VideoItem\r\n    },\r\n    data: function () {\r\n        return VideoListData;\r\n    },\r\n    mounted: function () {\r\n        console.log('Video List Created');\r\n        var _video_list = this;\r\n        Bus.$on('resetInfinite', function (search_word) {\r\n            _video_list.search_word = search_word;\r\n            _video_list.resetInfinite(_video_list);\r\n        })\r\n    },\r\n    beforeDestroy: function () {\r\n        console.log('video list before destroy')\r\n    },\r\n    methods: {\r\n        infiniteHandler: function ($state) {\r\n            var vue = this;\r\n            // if(vue.num_pages === 0){\r\n            //     $state.complete();\r\n            //     return null;\r\n            // }\r\n            var context = {\r\n                'page': vue.cur_page,\r\n                'main_category': router.currentRoute.params.main_category,\r\n                'category': App.active_list,\r\n                'year': App.active_year,\r\n                'region': App.active_region,\r\n                'search': vue.search_word\r\n            };\r\n            console.log(context);\r\n            $.get(VIDEO_LIST_URL, context, function (data, status) {\r\n                vue.count = data['count'];\r\n                vue.cur_page = data['cur_page'];\r\n                vue.num_pages = data['num_pages'];\r\n                $.each(data['results'], function (index, value) {\r\n                    vue.videos.push(value);\r\n                });\r\n                if (vue.cur_page === vue.num_pages) {\r\n                    $state.complete();\r\n                } else {\r\n                    console.log('cur_page=' + vue.cur_page);\r\n                    $state.loaded();\r\n                    vue.cur_page++;\r\n                }\r\n            });\r\n        },\r\n        resetInfinite: function (object) {\r\n            var _video_list = object;\r\n            _video_list.videos = [];\r\n            _video_list.cur_page = 1;\r\n            _video_list.num_pages = 1;\r\n            _video_list.$nextTick(function () {\r\n                console.log('Reset Video Gallery');\r\n                _video_list.$refs.infiniteLoading.$emit('$InfiniteLoading:reset');\r\n            });\r\n        }\r\n    },\r\n    beforeRouteUpdate: function (to, from, next) {\r\n        console.log('video list reused!');\r\n        load_category_info(to.params.main_category);\r\n        load_search_result();\r\n        next();\r\n    }\r\n};\r\nvar VideoContainer = {\r\n    template: '#id_detail',\r\n    props: ['video'],\r\n    data: function () {\r\n        return {\r\n            active_name: ''\r\n        }\r\n    },\r\n    computed: {},\r\n    methods: {\r\n        load_video: function (video_url) {\r\n            create_video(video_url);\r\n        },\r\n        select: function (name) {\r\n            this.active_name = name;\r\n        },\r\n        change_description: function (video) {\r\n            this.video.description = video.description;\r\n        }\r\n    },\r\n    mounted: function () {\r\n        console.log('video detail mounted');\r\n        if (router.currentRoute.name === 'video_detail') {\r\n            load_video_detail(router.currentRoute.params.id);\r\n        }\r\n    },\r\n    updated: function () {\r\n        console.log('video detail updated');\r\n    }\r\n};\r\n/* 搜索框 */\r\nvar SearchForm = {\r\n    template: '#id_search_form',\r\n    props: [],\r\n    data: function () {\r\n        return {\r\n            search_word: ''\r\n        }\r\n    },\r\n    methods:{\r\n        onSubmit: function () {\r\n            Bus.$emit('resetInfinite', this.search_word);\r\n        }\r\n    }\r\n};\r\n\r\n/* 路由 */\r\nvar router = new VueRouter({\r\n    mode: 'hash',\r\n    base: window.location.href,\r\n    linkActiveClass: 'am-active',\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            components: {\r\n                default: HomeView\r\n            },\r\n            props: {\r\n                default: true\r\n            }\r\n        },\r\n        {\r\n            path: '/vod/:id',\r\n            name: 'video_detail',\r\n            components: {\r\n                video_detail: VideoContainer\r\n            },\r\n            props: {\r\n                video_detail: true\r\n            }\r\n        },\r\n        {\r\n            path: '/list/:main_category',\r\n            components: {\r\n                search_form: SearchForm,\r\n                category_list: CategoryList,\r\n                category_advanced: CategoryAdvanced,\r\n                video_list: VideoList\r\n            },\r\n            props: {\r\n                category_list: true,\r\n                category_advanced: true,\r\n                video_list: true\r\n            },\r\n            beforeEnter: function (to, from, next) {\r\n                console.log('router beforeEnter');\r\n                next();\r\n            }\r\n        }\r\n    ]\r\n});\r\nvar Bus = new Vue();\r\nvar App = new Vue({\r\n    el: '#id_app',\r\n    router: router,\r\n    data: {\r\n        main_categories: [],\r\n        active_name: '',\r\n        active_list: '全部',\r\n        active_year: '全部',\r\n        active_region: '全部',\r\n        category_list: [],\r\n        category_year: [],\r\n        category_region: [],\r\n        video: {}\r\n    }\r\n});\r\n// router.beforeEach(function (to, from, next) {\r\n//     // load_category_info(to.params.main_category);\r\n//     // load_search_result();\r\n//     // next();\r\n//     load_category_info(to.params.main_category);\r\n//     // load_search_result();\r\n//     console.log('success');\r\n//     next();\r\n// });\r\n\r\nfunction load_category_main() {\r\n    var first = true;\r\n    $.each(CategoryListData, function (key, value) {\r\n        if (first) {\r\n            App.active_name = key;\r\n            first = false;\r\n        }\r\n        App.main_categories.push({name: key});\r\n    });\r\n    load_category_info(router.currentRoute.params.main_category);\r\n}\r\nfunction load_category_info(main_category) {\r\n    load_category_list(main_category);\r\n    load_category_year(main_category);\r\n    load_category_region(main_category);\r\n}\r\nfunction load_category_list(active_name) {\r\n    App.category_list = [\r\n        {name: '全部'}\r\n    ];\r\n    if (!CategoryListData)return;\r\n    $.each(CategoryListData[active_name], function (index, item) {\r\n        App.category_list.push(item);\r\n    });\r\n}\r\nfunction load_category_year(name) {\r\n    var context = {'category': name};\r\n    $.get(YEAR_URL, context, function (data, status) {\r\n        App.category_year = [\r\n            {name: '全部'}\r\n        ];\r\n        $.each(data, function (index, value) {\r\n            App.category_year.push({name: value});\r\n        });\r\n    })\r\n}\r\nfunction load_category_region(name) {\r\n    var context = {'category': name};\r\n    $.get(REGION_URL, context, function (data, status) {\r\n        App.category_region = [\r\n            {name: '全部'}\r\n        ];\r\n        $.each(data, function (index, value) {\r\n            App.category_region.push(value);\r\n        });\r\n        App.active_region = '全部';\r\n    })\r\n}\r\nfunction load_search_result() {\r\n    Bus.$emit('resetInfinite');\r\n}\r\nfunction load_video_detail(id) {\r\n    var url = VIDEO_DETAIL_URL + id;\r\n    $.get(url, function (data, status) {\r\n        App.video = data;\r\n        create_video(App.video.video);\r\n    });\r\n}\r\nfunction create_video_detail_html() {\r\n    return '<video id=\"id_video_js\" class=\"video-js vjs-default-skin vjs-fill\">' +\r\n        '<p>该软件不支持播放视频,请使用Chrome或其他浏览器,谢谢</p>' +\r\n        '</video>'\r\n}\r\nfunction create_video(video_url) {\r\n    // myPlayer = videojs('id_video_js',{},function () {\r\n    //     alert('setup videojs');\r\n    // });\r\n\r\n    // if (myPlayer) {\r\n    //     myPlayer.pause();\r\n    //     setTimeout(function() {\r\n    //         myPlayer.dispose();\r\n    //         myPlayer = null;\r\n    //     }, 0);\r\n    // }\r\n    $('#id_video_container').html(create_video_detail_html());\r\n    myPlayer = videojs(document.getElementById('id_video_js'), {\r\n        controls: true,\r\n        autoplay: false,\r\n        preload: 'auto',\r\n        techOrder: ['html5', 'flash']\r\n        // flash: {\r\n        //     hls: {\r\n        //         withCredentials: false\r\n        //     }\r\n        // }\r\n    }, function () {\r\n        console.log('setup videojs');\r\n        //自定义播放按钮\r\n        var $customer_play = $('<button class=\"vjs-control\" id=\"id_full_screen\">' +\r\n            '<span>网页全屏</span>' +\r\n            '</button>');\r\n        $customer_play.click(onClickCustomFullScreen);\r\n        // var controlBar = document.getElementsByClassName('vjs-control-bar')[0];\r\n        $('.vjs-control-bar').append($customer_play);\r\n    });\r\n    myPlayer.pause();\r\n    var src = {\r\n        src: video_url,\r\n        type: 'video/mp4',\r\n        withCredentials: false\r\n    };\r\n    if (video_url.endsWith('m3u8')) {\r\n        src.type = 'application/x-mpegURL';\r\n        // src.src = URL_PREFIX + '/media/record/' + src.src;\r\n        console.log('m3u8 url is:' + src.src);\r\n    }\r\n    myPlayer.src(src);\r\n    myPlayer.play();\r\n}\r\nvar current_full_screen = false;\r\nfunction onClickCustomFullScreen() {\r\n    //language=JQuery-CSS\r\n    var $video_container = $(\"#id_video_container\");\r\n    var $full_screen_btn = $(\"#id_full_screen\");\r\n    if (!current_full_screen) {\r\n        current_full_screen = true;\r\n        $video_container.addClass('custom_full_screen');\r\n        $video_container.addClass('video-wrapper-full');\r\n        $full_screen_btn.html('<span>取消全屏</span>')\r\n    } else {\r\n        current_full_screen = false;\r\n        $video_container.removeClass('custom_full_screen');\r\n        $video_container.removeClass('video-wrapper-full');\r\n        $full_screen_btn.html('<span>网页全屏</span>')\r\n    }\r\n}\r\nfunction load_category(){\r\n// $.get(CATEGORY_URL, {format: 'json'}, function (data, status) {\r\n//     // alert('Get Data Done!'+data);\r\n//     CategoryListData = data;\r\n//     // load_category_year();\r\n//     $('#my-modal-loading').modal('close');\r\n//     load_category_main();\r\n// });\r\n$.ajax({\r\n  url:CATEGORY_URL,\r\n  data:{format: 'json'},\r\n  timeout: 5000,\r\n  success:function (data, status) {\r\n      // alert('Get Data Done!'+data);\r\n      CategoryListData = data;\r\n      // load_category_year();\r\n      $('#my-modal-loading').modal('close');\r\n      load_category_main();\r\n  },\r\n  error:function() {\r\n      load_category();\r\n  }\r\n});\r\n}\r\n(function () {\r\n    $('#my-modal-loading').modal();\r\n    $('#id_admin_btn').click(function () {\r\n        window.location.href = ADMIN_SITE;\r\n    });\r\n    load_category();\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3JvdXRlci5qcz9jZmUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixtQkFBbUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx3QkFBd0IsV0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsZ0NBQWdDLFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVO0FBQzVDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWTtBQUNoRCxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFFBQVEsZUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGhoeSBvbiAyMDE3LzEwLzE0LlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG4vKiDlhajlsYDlj5jph48g5byA5aeLKi9cclxudmFyIFVSTF9QUkVGSVggPSAnJztcclxudmFyIEhPTUVfTElTVF9VUkwgPSBVUkxfUFJFRklYICsgJy92b2QvYXBpL2hvbWUnO1xyXG52YXIgSE9NRV9PVkVSVklFV19VUkwgPSBVUkxfUFJFRklYICsgJy92b2QvYXBpL2hvbWUvb3ZlcnZpZXcnO1xyXG52YXIgQ0FURUdPUllfVVJMID0gVVJMX1BSRUZJWCArICcvdm9kL2FwaS9jYXRlZ29yeSc7XHJcbnZhciBZRUFSX1VSTCA9IFVSTF9QUkVGSVggKyAnL3ZvZC9hcGkveWVhcic7XHJcbnZhciBSRUdJT05fVVJMID0gVVJMX1BSRUZJWCArICcvdm9kL2FwaS9yZWdpb24nO1xyXG52YXIgVklERU9fTElTVF9VUkwgPSBVUkxfUFJFRklYICsgJy92b2QvYXBpJztcclxudmFyIFZJREVPX0RFVEFJTF9VUkwgPSBVUkxfUFJFRklYICsgJy92b2QvYXBpLyc7XHJcbnZhciBBRE1JTl9TSVRFID0gVVJMX1BSRUZJWCArICcvYWRtaW4nO1xyXG5cclxuXHJcbnZhciBERUZBVUxUX1NFTEVDVF9EQVRBID0ge1xyXG4gICAgY2F0ZWdvcnk6ICflhajpg6gnLFxyXG4gICAgeWVhcjogJ+WFqOmDqCcsXHJcbiAgICByZWdpb246ICflhajpg6gnXHJcbn07XHJcbnZhciBDYXRlZ29yeUxpc3REYXRhO1xyXG52YXIgSVNjcm9sbCA9ICQuQU1VSS5pU2Nyb2xsO1xyXG52YXIgbXlQbGF5ZXI7XHJcbnZhciBjdXJEYXRhID0gREVGQVVMVF9TRUxFQ1RfREFUQTtcclxuLyogSUXlhbzlrrnmgKflh73mlbAgKi9cclxuaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoICE9ICdmdW5jdGlvbicpIHtcclxuICAgIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoc3VmZml4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdWZmaXgsIHRoaXMubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBWdWXlr7nosaEgKi9cclxuLyog6KeG6aKR57yp55Wl5Zu+57uE5Lu2ICovXHJcbnZhciBWaWRlb0l0ZW0gPSB7XHJcbiAgICB0ZW1wbGF0ZTogJyNpZF92aWRlb19pdGVtJyxcclxuICAgIHByb3BzOiBbJ3ZpZGVvJ10sXHJcbiAgICBjb21wdXRlZDoge1xyXG4gICAgICAgIGZ1bGxfaW1hZ2VfdXJsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvLmltYWdlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgc2VsZWN0VmlkZW86IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICByb3V0ZXIucHVzaCh7cGF0aDogJy92b2QvJyArIGlkfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3QgdmlkZW8gJyArIGlkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyog5Li76aG15YiG57G76KeG6aKR5qaC6KeIICovXHJcbnZhciBIb21lQ2F0ZWdvcnlWaWRlbyA9IHtcclxuICAgIG5hbWU6J0hvbWVDYXRlZ29yeScsXHJcbiAgICB0ZW1wbGF0ZTogJyNpZF9ob21lX2NhdGVnb3J5JyxcclxuICAgIHByb3BzOiBbJ2NhdGVnb3J5J10sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgJ3ZpZGVvLWl0ZW0nOiBWaWRlb0l0ZW1cclxuICAgIH0sXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlkZW9zOltdXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBtb3VudGVkOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdnVlID0gdGhpcztcclxuICAgICAgICB2YXIgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnkubmFtZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJC5nZXQoSE9NRV9PVkVSVklFV19VUkwsIGNvbnRleHQsIGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMpIHtcclxuICAgICAgICAgICAgaWYoIWRhdGFbJ2Vycm9yJ10pe1xyXG4gICAgICAgICAgICAgICAgdnVlLnZpZGVvcyA9IGRhdGFcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBhbGVydChkYXRhWydlcnJvciddKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOntcclxuXHJcbiAgICB9XHJcbn07XHJcblZ1ZS5jb21wb25lbnQoJ3Ytc2VsZWN0JywgVnVlU2VsZWN0LlZ1ZVNlbGVjdCk7XHJcbnZhciBIb21lVmlldyA9IHtcclxuICAgIG5hbWU6ICdIb21lJyxcclxuICAgIHRlbXBsYXRlOiAnI2lkX2hvbWUnLFxyXG4gICAgcHJvcHM6WydtYWluX2NhdGVnb3JpZXMnXSxcclxuICAgIGNvbXBvbmVudHM6e1xyXG4gICAgICAgICdjYXRlZ29yeS1pdGVtJzogSG9tZUNhdGVnb3J5VmlkZW9cclxuICAgIH0sXHJcbiAgICBkYXRhOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb3VudDowLFxyXG4gICAgICAgICAgICB2aWRlb3M6W11cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6e1xyXG5cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHZ1ZSA9IHRoaXM7XHJcbiAgICAgICAgJCgnLm1sNiAubGV0dGVycycpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoJCh0aGlzKS50ZXh0KCkucmVwbGFjZSgvKFteXFx4MDAtXFx4ODBdfFxcdykvZywgXCI8c3BhbiBjbGFzcz0nbGV0dGVyJz4kJjwvc3Bhbj5cIikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFuaW1lLnRpbWVsaW5lKHtsb29wOiB0cnVlfSlcclxuICAgICAgICAgICAgLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiAnLm1sNiAubGV0dGVyJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFtcIjEuMWVtXCIsIDBdLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWjogMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcbiAgICAgICAgICAgICAgICBkZWxheTogZnVuY3Rpb24gKGVsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDUwICogaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogJy5tbDYnLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VPdXRFeHBvXCIsXHJcbiAgICAgICAgICAgIGRlbGF5OiAxMDAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJC5nZXQoSE9NRV9MSVNUX1VSTCxmdW5jdGlvbiAoZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHZ1ZS5jb3VudCA9IGRhdGFbJ2NvdW50J107XHJcbiAgICAgICAgICAgIHZ1ZS52aWRlb3MgPSBkYXRhWyd2aWRlb3MnXTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJCgnI2lkX2hvbWVfc2xpZGVyJykuZmxleHNsaWRlcigpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczp7XHJcbiAgICAgICAgc2VsZWN0X3ZpZGVvOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgcm91dGVyLnB1c2goeyBuYW1lOiAndmlkZW9fZGV0YWlsJywgcGFyYW1zOiB7IGlkOiBpZCB9fSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbnZhciBDYXRlZ29yeUxpc3QgPSB7XHJcbiAgICB0ZW1wbGF0ZTogJyNpZF9jYXRlZ29yeV9saXN0JyxcclxuICAgIHByb3BzOiBbJ2NhdGVnb3J5X2xpc3QnXSxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhY3RpdmVfbmFtZTogJ+WFqOmDqCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVfbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgIEFwcC5hY3RpdmVfbGlzdCA9IG5hbWU7XHJcbiAgICAgICAgICAgIGxvYWRfc2VhcmNoX3Jlc3VsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBiZWZvcmVSb3V0ZUVudGVyOiBmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2F0ZWdvcnkgYmVmb3JlIHJvdXRlIGVudGVyJyk7XHJcbiAgICAgICAgbmV4dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvYWRfY2F0ZWdvcnlfbGlzdCh0by5wYXJhbXMubWFpbl9jYXRlZ29yeSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBDYXRlZ29yeUFkdmFuY2VkID0ge1xyXG4gICAgdGVtcGxhdGU6ICcjaWRfY2F0ZWdvcnlfYWR2YW5jZWQnLFxyXG4gICAgcHJvcHM6IFsnY2F0ZWdvcnlfeWVhcicsICdjYXRlZ29yeV9yZWdpb24nXSxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhY3RpdmVfeWVhcjogJ+WFqOmDqCcsXHJcbiAgICAgICAgICAgIGFjdGl2ZV9yZWdpb246ICflhajpg6gnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzZWxlY3RfeWVhcjogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVfeWVhciA9IG5hbWU7XHJcbiAgICAgICAgICAgIEFwcC5hY3RpdmVfeWVhciA9IG5hbWU7XHJcbiAgICAgICAgICAgIGxvYWRfc2VhcmNoX3Jlc3VsdCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0X3JlZ2lvbjogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVfcmVnaW9uID0gbmFtZTtcclxuICAgICAgICAgICAgQXBwLmFjdGl2ZV9yZWdpb24gPSBuYW1lO1xyXG4gICAgICAgICAgICBsb2FkX3NlYXJjaF9yZXN1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYXRlZ29yeSBhZHZhbmNlZCBiZWZvcmUgcm91dGUgZW50ZXInKTtcclxuICAgICAgICBuZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9hZF9jYXRlZ29yeV95ZWFyKHRvLnBhcmFtcy5tYWluX2NhdGVnb3J5KTtcclxuICAgICAgICAgICAgbG9hZF9jYXRlZ29yeV9yZWdpb24odG8ucGFyYW1zLm1haW5fY2F0ZWdvcnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIFZpZGVvTGlzdERhdGEgPSB7XHJcbiAgICB2aWRlb3M6IFtdLFxyXG4gICAgY3VyX3BhZ2U6IDEsXHJcbiAgICBudW1fcGFnZXM6IDAsXHJcbiAgICBjb3VudDogMCxcclxuICAgIHNlYXJjaF93b3JkOiAnJ1xyXG59O1xyXG52YXIgVmlkZW9MaXN0ID0ge1xyXG4gICAgdGVtcGxhdGU6ICcjaWRfdmlkZW9fbGlzdCcsXHJcbiAgICBwcm9wczogW10sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgJ3ZpZGVvLWl0ZW0nOiBWaWRlb0l0ZW1cclxuICAgIH0sXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFZpZGVvTGlzdERhdGE7XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBMaXN0IENyZWF0ZWQnKTtcclxuICAgICAgICB2YXIgX3ZpZGVvX2xpc3QgPSB0aGlzO1xyXG4gICAgICAgIEJ1cy4kb24oJ3Jlc2V0SW5maW5pdGUnLCBmdW5jdGlvbiAoc2VhcmNoX3dvcmQpIHtcclxuICAgICAgICAgICAgX3ZpZGVvX2xpc3Quc2VhcmNoX3dvcmQgPSBzZWFyY2hfd29yZDtcclxuICAgICAgICAgICAgX3ZpZGVvX2xpc3QucmVzZXRJbmZpbml0ZShfdmlkZW9fbGlzdCk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3ZpZGVvIGxpc3QgYmVmb3JlIGRlc3Ryb3knKVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBpbmZpbml0ZUhhbmRsZXI6IGZ1bmN0aW9uICgkc3RhdGUpIHtcclxuICAgICAgICAgICAgdmFyIHZ1ZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIC8vIGlmKHZ1ZS5udW1fcGFnZXMgPT09IDApe1xyXG4gICAgICAgICAgICAvLyAgICAgJHN0YXRlLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgICAgICdwYWdlJzogdnVlLmN1cl9wYWdlLFxyXG4gICAgICAgICAgICAgICAgJ21haW5fY2F0ZWdvcnknOiByb3V0ZXIuY3VycmVudFJvdXRlLnBhcmFtcy5tYWluX2NhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzogQXBwLmFjdGl2ZV9saXN0LFxyXG4gICAgICAgICAgICAgICAgJ3llYXInOiBBcHAuYWN0aXZlX3llYXIsXHJcbiAgICAgICAgICAgICAgICAncmVnaW9uJzogQXBwLmFjdGl2ZV9yZWdpb24sXHJcbiAgICAgICAgICAgICAgICAnc2VhcmNoJzogdnVlLnNlYXJjaF93b3JkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAkLmdldChWSURFT19MSVNUX1VSTCwgY29udGV4dCwgZnVuY3Rpb24gKGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdnVlLmNvdW50ID0gZGF0YVsnY291bnQnXTtcclxuICAgICAgICAgICAgICAgIHZ1ZS5jdXJfcGFnZSA9IGRhdGFbJ2N1cl9wYWdlJ107XHJcbiAgICAgICAgICAgICAgICB2dWUubnVtX3BhZ2VzID0gZGF0YVsnbnVtX3BhZ2VzJ107XHJcbiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YVsncmVzdWx0cyddLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdnVlLnZpZGVvcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZ1ZS5jdXJfcGFnZSA9PT0gdnVlLm51bV9wYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3VyX3BhZ2U9JyArIHZ1ZS5jdXJfcGFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmxvYWRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZ1ZS5jdXJfcGFnZSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlc2V0SW5maW5pdGU6IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgdmFyIF92aWRlb19saXN0ID0gb2JqZWN0O1xyXG4gICAgICAgICAgICBfdmlkZW9fbGlzdC52aWRlb3MgPSBbXTtcclxuICAgICAgICAgICAgX3ZpZGVvX2xpc3QuY3VyX3BhZ2UgPSAxO1xyXG4gICAgICAgICAgICBfdmlkZW9fbGlzdC5udW1fcGFnZXMgPSAxO1xyXG4gICAgICAgICAgICBfdmlkZW9fbGlzdC4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc2V0IFZpZGVvIEdhbGxlcnknKTtcclxuICAgICAgICAgICAgICAgIF92aWRlb19saXN0LiRyZWZzLmluZmluaXRlTG9hZGluZy4kZW1pdCgnJEluZmluaXRlTG9hZGluZzpyZXNldCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlUm91dGVVcGRhdGU6IGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd2aWRlbyBsaXN0IHJldXNlZCEnKTtcclxuICAgICAgICBsb2FkX2NhdGVnb3J5X2luZm8odG8ucGFyYW1zLm1haW5fY2F0ZWdvcnkpO1xyXG4gICAgICAgIGxvYWRfc2VhcmNoX3Jlc3VsdCgpO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxufTtcclxudmFyIFZpZGVvQ29udGFpbmVyID0ge1xyXG4gICAgdGVtcGxhdGU6ICcjaWRfZGV0YWlsJyxcclxuICAgIHByb3BzOiBbJ3ZpZGVvJ10sXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0aXZlX25hbWU6ICcnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7fSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBsb2FkX3ZpZGVvOiBmdW5jdGlvbiAodmlkZW9fdXJsKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZV92aWRlbyh2aWRlb191cmwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZV9uYW1lID0gbmFtZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoYW5nZV9kZXNjcmlwdGlvbjogZnVuY3Rpb24gKHZpZGVvKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8uZGVzY3JpcHRpb24gPSB2aWRlby5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd2aWRlbyBkZXRhaWwgbW91bnRlZCcpO1xyXG4gICAgICAgIGlmIChyb3V0ZXIuY3VycmVudFJvdXRlLm5hbWUgPT09ICd2aWRlb19kZXRhaWwnKSB7XHJcbiAgICAgICAgICAgIGxvYWRfdmlkZW9fZGV0YWlsKHJvdXRlci5jdXJyZW50Um91dGUucGFyYW1zLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd2aWRlbyBkZXRhaWwgdXBkYXRlZCcpO1xyXG4gICAgfVxyXG59O1xyXG4vKiDmkJzntKLmoYYgKi9cclxudmFyIFNlYXJjaEZvcm0gPSB7XHJcbiAgICB0ZW1wbGF0ZTogJyNpZF9zZWFyY2hfZm9ybScsXHJcbiAgICBwcm9wczogW10sXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2VhcmNoX3dvcmQ6ICcnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6e1xyXG4gICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEJ1cy4kZW1pdCgncmVzZXRJbmZpbml0ZScsIHRoaXMuc2VhcmNoX3dvcmQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8qIOi3r+eUsSAqL1xyXG52YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7XHJcbiAgICBtb2RlOiAnaGFzaCcsXHJcbiAgICBiYXNlOiB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgIGxpbmtBY3RpdmVDbGFzczogJ2FtLWFjdGl2ZScsXHJcbiAgICByb3V0ZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhdGg6ICcvJyxcclxuICAgICAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSG9tZVZpZXdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYXRoOiAnL3ZvZC86aWQnLFxyXG4gICAgICAgICAgICBuYW1lOiAndmlkZW9fZGV0YWlsJyxcclxuICAgICAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9fZGV0YWlsOiBWaWRlb0NvbnRhaW5lclxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9fZGV0YWlsOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGF0aDogJy9saXN0LzptYWluX2NhdGVnb3J5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoX2Zvcm06IFNlYXJjaEZvcm0sXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9saXN0OiBDYXRlZ29yeUxpc3QsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9hZHZhbmNlZDogQ2F0ZWdvcnlBZHZhbmNlZCxcclxuICAgICAgICAgICAgICAgIHZpZGVvX2xpc3Q6IFZpZGVvTGlzdFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfbGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2FkdmFuY2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9fbGlzdDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncm91dGVyIGJlZm9yZUVudGVyJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbn0pO1xyXG52YXIgQnVzID0gbmV3IFZ1ZSgpO1xyXG52YXIgQXBwID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNpZF9hcHAnLFxyXG4gICAgcm91dGVyOiByb3V0ZXIsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgbWFpbl9jYXRlZ29yaWVzOiBbXSxcclxuICAgICAgICBhY3RpdmVfbmFtZTogJycsXHJcbiAgICAgICAgYWN0aXZlX2xpc3Q6ICflhajpg6gnLFxyXG4gICAgICAgIGFjdGl2ZV95ZWFyOiAn5YWo6YOoJyxcclxuICAgICAgICBhY3RpdmVfcmVnaW9uOiAn5YWo6YOoJyxcclxuICAgICAgICBjYXRlZ29yeV9saXN0OiBbXSxcclxuICAgICAgICBjYXRlZ29yeV95ZWFyOiBbXSxcclxuICAgICAgICBjYXRlZ29yeV9yZWdpb246IFtdLFxyXG4gICAgICAgIHZpZGVvOiB7fVxyXG4gICAgfVxyXG59KTtcclxuLy8gcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7XHJcbi8vICAgICAvLyBsb2FkX2NhdGVnb3J5X2luZm8odG8ucGFyYW1zLm1haW5fY2F0ZWdvcnkpO1xyXG4vLyAgICAgLy8gbG9hZF9zZWFyY2hfcmVzdWx0KCk7XHJcbi8vICAgICAvLyBuZXh0KCk7XHJcbi8vICAgICBsb2FkX2NhdGVnb3J5X2luZm8odG8ucGFyYW1zLm1haW5fY2F0ZWdvcnkpO1xyXG4vLyAgICAgLy8gbG9hZF9zZWFyY2hfcmVzdWx0KCk7XHJcbi8vICAgICBjb25zb2xlLmxvZygnc3VjY2VzcycpO1xyXG4vLyAgICAgbmV4dCgpO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRfY2F0ZWdvcnlfbWFpbigpIHtcclxuICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICAkLmVhY2goQ2F0ZWdvcnlMaXN0RGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICAgICAgQXBwLmFjdGl2ZV9uYW1lID0ga2V5O1xyXG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBcHAubWFpbl9jYXRlZ29yaWVzLnB1c2goe25hbWU6IGtleX0pO1xyXG4gICAgfSk7XHJcbiAgICBsb2FkX2NhdGVnb3J5X2luZm8ocm91dGVyLmN1cnJlbnRSb3V0ZS5wYXJhbXMubWFpbl9jYXRlZ29yeSk7XHJcbn1cclxuZnVuY3Rpb24gbG9hZF9jYXRlZ29yeV9pbmZvKG1haW5fY2F0ZWdvcnkpIHtcclxuICAgIGxvYWRfY2F0ZWdvcnlfbGlzdChtYWluX2NhdGVnb3J5KTtcclxuICAgIGxvYWRfY2F0ZWdvcnlfeWVhcihtYWluX2NhdGVnb3J5KTtcclxuICAgIGxvYWRfY2F0ZWdvcnlfcmVnaW9uKG1haW5fY2F0ZWdvcnkpO1xyXG59XHJcbmZ1bmN0aW9uIGxvYWRfY2F0ZWdvcnlfbGlzdChhY3RpdmVfbmFtZSkge1xyXG4gICAgQXBwLmNhdGVnb3J5X2xpc3QgPSBbXHJcbiAgICAgICAge25hbWU6ICflhajpg6gnfVxyXG4gICAgXTtcclxuICAgIGlmICghQ2F0ZWdvcnlMaXN0RGF0YSlyZXR1cm47XHJcbiAgICAkLmVhY2goQ2F0ZWdvcnlMaXN0RGF0YVthY3RpdmVfbmFtZV0sIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xyXG4gICAgICAgIEFwcC5jYXRlZ29yeV9saXN0LnB1c2goaXRlbSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBsb2FkX2NhdGVnb3J5X3llYXIobmFtZSkge1xyXG4gICAgdmFyIGNvbnRleHQgPSB7J2NhdGVnb3J5JzogbmFtZX07XHJcbiAgICAkLmdldChZRUFSX1VSTCwgY29udGV4dCwgZnVuY3Rpb24gKGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgIEFwcC5jYXRlZ29yeV95ZWFyID0gW1xyXG4gICAgICAgICAgICB7bmFtZTogJ+WFqOmDqCd9XHJcbiAgICAgICAgXTtcclxuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBBcHAuY2F0ZWdvcnlfeWVhci5wdXNoKHtuYW1lOiB2YWx1ZX0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufVxyXG5mdW5jdGlvbiBsb2FkX2NhdGVnb3J5X3JlZ2lvbihuYW1lKSB7XHJcbiAgICB2YXIgY29udGV4dCA9IHsnY2F0ZWdvcnknOiBuYW1lfTtcclxuICAgICQuZ2V0KFJFR0lPTl9VUkwsIGNvbnRleHQsIGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMpIHtcclxuICAgICAgICBBcHAuY2F0ZWdvcnlfcmVnaW9uID0gW1xyXG4gICAgICAgICAgICB7bmFtZTogJ+WFqOmDqCd9XHJcbiAgICAgICAgXTtcclxuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBBcHAuY2F0ZWdvcnlfcmVnaW9uLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEFwcC5hY3RpdmVfcmVnaW9uID0gJ+WFqOmDqCc7XHJcbiAgICB9KVxyXG59XHJcbmZ1bmN0aW9uIGxvYWRfc2VhcmNoX3Jlc3VsdCgpIHtcclxuICAgIEJ1cy4kZW1pdCgncmVzZXRJbmZpbml0ZScpO1xyXG59XHJcbmZ1bmN0aW9uIGxvYWRfdmlkZW9fZGV0YWlsKGlkKSB7XHJcbiAgICB2YXIgdXJsID0gVklERU9fREVUQUlMX1VSTCArIGlkO1xyXG4gICAgJC5nZXQodXJsLCBmdW5jdGlvbiAoZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgQXBwLnZpZGVvID0gZGF0YTtcclxuICAgICAgICBjcmVhdGVfdmlkZW8oQXBwLnZpZGVvLnZpZGVvKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZV92aWRlb19kZXRhaWxfaHRtbCgpIHtcclxuICAgIHJldHVybiAnPHZpZGVvIGlkPVwiaWRfdmlkZW9fanNcIiBjbGFzcz1cInZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4gdmpzLWZpbGxcIj4nICtcclxuICAgICAgICAnPHA+6K+l6L2v5Lu25LiN5pSv5oyB5pKt5pS+6KeG6aKRLOivt+S9v+eUqENocm9tZeaIluWFtuS7lua1j+iniOWZqCzosKLosKI8L3A+JyArXHJcbiAgICAgICAgJzwvdmlkZW8+J1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZV92aWRlbyh2aWRlb191cmwpIHtcclxuICAgIC8vIG15UGxheWVyID0gdmlkZW9qcygnaWRfdmlkZW9fanMnLHt9LGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICBhbGVydCgnc2V0dXAgdmlkZW9qcycpO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8gaWYgKG15UGxheWVyKSB7XHJcbiAgICAvLyAgICAgbXlQbGF5ZXIucGF1c2UoKTtcclxuICAgIC8vICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgICAgICBteVBsYXllci5kaXNwb3NlKCk7XHJcbiAgICAvLyAgICAgICAgIG15UGxheWVyID0gbnVsbDtcclxuICAgIC8vICAgICB9LCAwKTtcclxuICAgIC8vIH1cclxuICAgICQoJyNpZF92aWRlb19jb250YWluZXInKS5odG1sKGNyZWF0ZV92aWRlb19kZXRhaWxfaHRtbCgpKTtcclxuICAgIG15UGxheWVyID0gdmlkZW9qcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfdmlkZW9fanMnKSwge1xyXG4gICAgICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICBwcmVsb2FkOiAnYXV0bycsXHJcbiAgICAgICAgdGVjaE9yZGVyOiBbJ2h0bWw1JywgJ2ZsYXNoJ11cclxuICAgICAgICAvLyBmbGFzaDoge1xyXG4gICAgICAgIC8vICAgICBobHM6IHtcclxuICAgICAgICAvLyAgICAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2VcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc2V0dXAgdmlkZW9qcycpO1xyXG4gICAgICAgIC8v6Ieq5a6a5LmJ5pKt5pS+5oyJ6ZKuXHJcbiAgICAgICAgdmFyICRjdXN0b21lcl9wbGF5ID0gJCgnPGJ1dHRvbiBjbGFzcz1cInZqcy1jb250cm9sXCIgaWQ9XCJpZF9mdWxsX3NjcmVlblwiPicgK1xyXG4gICAgICAgICAgICAnPHNwYW4+572R6aG15YWo5bGPPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAnPC9idXR0b24+Jyk7XHJcbiAgICAgICAgJGN1c3RvbWVyX3BsYXkuY2xpY2sob25DbGlja0N1c3RvbUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgIC8vIHZhciBjb250cm9sQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmpzLWNvbnRyb2wtYmFyJylbMF07XHJcbiAgICAgICAgJCgnLnZqcy1jb250cm9sLWJhcicpLmFwcGVuZCgkY3VzdG9tZXJfcGxheSk7XHJcbiAgICB9KTtcclxuICAgIG15UGxheWVyLnBhdXNlKCk7XHJcbiAgICB2YXIgc3JjID0ge1xyXG4gICAgICAgIHNyYzogdmlkZW9fdXJsLFxyXG4gICAgICAgIHR5cGU6ICd2aWRlby9tcDQnLFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2VcclxuICAgIH07XHJcbiAgICBpZiAodmlkZW9fdXJsLmVuZHNXaXRoKCdtM3U4JykpIHtcclxuICAgICAgICBzcmMudHlwZSA9ICdhcHBsaWNhdGlvbi94LW1wZWdVUkwnO1xyXG4gICAgICAgIC8vIHNyYy5zcmMgPSBVUkxfUFJFRklYICsgJy9tZWRpYS9yZWNvcmQvJyArIHNyYy5zcmM7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ20zdTggdXJsIGlzOicgKyBzcmMuc3JjKTtcclxuICAgIH1cclxuICAgIG15UGxheWVyLnNyYyhzcmMpO1xyXG4gICAgbXlQbGF5ZXIucGxheSgpO1xyXG59XHJcbnZhciBjdXJyZW50X2Z1bGxfc2NyZWVuID0gZmFsc2U7XHJcbmZ1bmN0aW9uIG9uQ2xpY2tDdXN0b21GdWxsU2NyZWVuKCkge1xyXG4gICAgLy9sYW5ndWFnZT1KUXVlcnktQ1NTXHJcbiAgICB2YXIgJHZpZGVvX2NvbnRhaW5lciA9ICQoXCIjaWRfdmlkZW9fY29udGFpbmVyXCIpO1xyXG4gICAgdmFyICRmdWxsX3NjcmVlbl9idG4gPSAkKFwiI2lkX2Z1bGxfc2NyZWVuXCIpO1xyXG4gICAgaWYgKCFjdXJyZW50X2Z1bGxfc2NyZWVuKSB7XHJcbiAgICAgICAgY3VycmVudF9mdWxsX3NjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgJHZpZGVvX2NvbnRhaW5lci5hZGRDbGFzcygnY3VzdG9tX2Z1bGxfc2NyZWVuJyk7XHJcbiAgICAgICAgJHZpZGVvX2NvbnRhaW5lci5hZGRDbGFzcygndmlkZW8td3JhcHBlci1mdWxsJyk7XHJcbiAgICAgICAgJGZ1bGxfc2NyZWVuX2J0bi5odG1sKCc8c3Bhbj7lj5bmtojlhajlsY88L3NwYW4+JylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3VycmVudF9mdWxsX3NjcmVlbiA9IGZhbHNlO1xyXG4gICAgICAgICR2aWRlb19jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2N1c3RvbV9mdWxsX3NjcmVlbicpO1xyXG4gICAgICAgICR2aWRlb19jb250YWluZXIucmVtb3ZlQ2xhc3MoJ3ZpZGVvLXdyYXBwZXItZnVsbCcpO1xyXG4gICAgICAgICRmdWxsX3NjcmVlbl9idG4uaHRtbCgnPHNwYW4+572R6aG15YWo5bGPPC9zcGFuPicpXHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbG9hZF9jYXRlZ29yeSgpe1xyXG4vLyAkLmdldChDQVRFR09SWV9VUkwsIHtmb3JtYXQ6ICdqc29uJ30sIGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMpIHtcclxuLy8gICAgIC8vIGFsZXJ0KCdHZXQgRGF0YSBEb25lIScrZGF0YSk7XHJcbi8vICAgICBDYXRlZ29yeUxpc3REYXRhID0gZGF0YTtcclxuLy8gICAgIC8vIGxvYWRfY2F0ZWdvcnlfeWVhcigpO1xyXG4vLyAgICAgJCgnI215LW1vZGFsLWxvYWRpbmcnKS5tb2RhbCgnY2xvc2UnKTtcclxuLy8gICAgIGxvYWRfY2F0ZWdvcnlfbWFpbigpO1xyXG4vLyB9KTtcclxuJC5hamF4KHtcclxuICB1cmw6Q0FURUdPUllfVVJMLFxyXG4gIGRhdGE6e2Zvcm1hdDogJ2pzb24nfSxcclxuICB0aW1lb3V0OiA1MDAwLFxyXG4gIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAvLyBhbGVydCgnR2V0IERhdGEgRG9uZSEnK2RhdGEpO1xyXG4gICAgICBDYXRlZ29yeUxpc3REYXRhID0gZGF0YTtcclxuICAgICAgLy8gbG9hZF9jYXRlZ29yeV95ZWFyKCk7XHJcbiAgICAgICQoJyNteS1tb2RhbC1sb2FkaW5nJykubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgIGxvYWRfY2F0ZWdvcnlfbWFpbigpO1xyXG4gIH0sXHJcbiAgZXJyb3I6ZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxvYWRfY2F0ZWdvcnkoKTtcclxuICB9XHJcbn0pO1xyXG59XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcjbXktbW9kYWwtbG9hZGluZycpLm1vZGFsKCk7XHJcbiAgICAkKCcjaWRfYWRtaW5fYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gQURNSU5fU0lURTtcclxuICAgIH0pO1xyXG4gICAgbG9hZF9jYXRlZ29yeSgpO1xyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);